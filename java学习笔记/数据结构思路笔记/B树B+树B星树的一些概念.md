# 基础概念

**度**：分为节点的度和树的度

**节点的度**：一个节点有几个孩子【一个结点含有的子结点的**个数**】

**树的度**：最大的节点的度 为树的度

树的度也等于**树的阶**【B树中的结点的最大孩子数】

# B树

有如下特点

## B树特点：

是一种多路搜索树（并不是二叉的）：【其中M为树的阶（最大的分叉的个数）】

1.定义任意非叶子结点最多只有M个儿子；且M>2；【必须是多叉树】

2.根结点的儿子数为[2, M]；【根节点可以二叉及以上】

3.除根结点以外的非叶子结点的儿子数为[M/2, M]；【其他非叶子节点关键字个数要M的一半以上，即块的最低利用率为1/2】

4.每个结点存放至少M/2-1（取上整）和至多M-1个关键字；【显而易见：比节点的度少一】

5.非叶子结点的关键字个数=指向儿子的指针个数-1；【显而易见】

6.非叶子结点的关键字：K[1], K[2], …, K[M-1]；且K[i] < K[i+1]；【关键字按顺序排（是一种排序树）】

7.非叶子结点的指针：P[1], P[2], …, P[M]；其中P[1]指向关键字小于K[1]的子树，P[M]指向关键字大于K[M-1]的子树，其它P[i]指向关键字属于(K[i-1], K[i])的子树；【指针在关键字对应区间内】

8.所有叶子结点位于同一层；【一定是平衡的树】

如：（M=3）

![img](https://pic4.zhimg.com/80/v2-c051bfe91da07f2f7e422a23914bc5d3_720w.jpg)

B-树的搜索，从根结点开始，对结点内的关键字（有序）序列进行二分查找，如果命中则结束，否则进入查询关键字所属范围的儿子结点；重复，直到所对应的儿子指针为空，或已经是叶子结点；

# B+树

B+ 树通常用于[数据库](https://link.zhihu.com/?target=http%3A//lib.csdn.net/base/14)和操作系统的文件系统中。B+ 树的特点是能够保持数据稳定有序，其插入与修改拥有较稳定的对数时间复杂度。B+ 树元素自底向上插入。【了解即可】

B+树是应文件系统所需而出的一种B-树的变型树。一棵m阶的B+树和m阶的B-树的差异在于：

1.有n棵子树的结点中含有n个关键字，每个关键字不保存数据，只用来索引，所有数据都保存在叶子节点。【与B树m个关键字对应m+1个指针不同】

2.所有的叶子结点中包含了全部关键字的信息，及指向含这些关键字记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接。【实际数据都存在叶子节点中】

3.所有的非终端结点可以看成是索引部分，结点中仅含其子树（根结点）中的最大（或最小）关键字。【非叶子节点只是目录，起划分区间的作用】
通常在B+树上有两个头指针，一个指向根结点，一个指向关键字最小的叶子结点。

![img](https://pic3.zhimg.com/80/v2-6172fb4f01eae910014f4ec12358b586_720w.jpg)

B+的搜索与B-树也基本相同，区别是B+树只有达到叶子结点才命中（B-树可以在非叶子结点命中），其性能也等价于在关键字全集做一次二分查找。

## B+树的特性：

1.所有关键字都出现在叶子结点的链表中（稠密索引），且链表中的关键字恰好

是有序的；

2.不可能在非叶子结点命中；

3.非叶子结点相当于是叶子结点的索引（稀疏索引），叶子结点相当于是存储

（关键字）数据的数据层；

4.更适合文件索引系统；

# B*树：

是B+树的变体，在B+树的非根和非叶子结点再增加指向兄弟的指针。

B*树定义了非叶子结点关键字个数至少为(2/3)M，即块的最低使用率为2/3。（代替B+树的1/2）

在B+树基础上，为非叶子结点也增加链表指针，将结点的最低利用率提高到2/3

![img](https://pic3.zhimg.com/80/v2-e5840e6c94fef590c50571cf0610e87a_720w.jpg)

参考知乎文章

[B树B+树B*树的区别](https://zhuanlan.zhihu.com/p/98021010)

 
